@{
    ViewBag.Title = "RSA Şifre Çözme";
    Layout = "_Layout";
}

<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
            <div class="cyber-card p-4">
                <h2 class="cyber-title mb-4">RSA Şifre Çözme</h2>

                <div class="form-group mb-3">
                    <label class="cyber-text">Şifrelenmiş Metin:</label>
                    <textarea id="sifreliMetin" class="form-control cyber-input" rows="3"></textarea>
                </div>

                <div class="form-group mb-3">
                    <label class="cyber-text">Private Key:</label>
                    <textarea id="privateKey" class="form-control cyber-input" rows="3"></textarea>
                </div>

                <div class="form-group mb-3">
                    <button id="sifreCoz" class="cyber-button">Şifre Çöz</button>
                </div>

                <div id="sonuc" class="form-group mb-3" style="display: none;">
                    <label class="cyber-text">Çözülmüş Metin:</label>
                    <textarea id="metin" class="form-control cyber-input" rows="3" readonly></textarea>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            $("#sifreCoz").click(function() {
                var sifreliMetin = $("#sifreliMetin").val();
                var privateKey = $("#privateKey").val();

                if (!sifreliMetin || !privateKey) {
                    alert("Lütfen şifrelenmiş metin ve private key giriniz!");
                    return;
                }

                $.post("/RSA/SifreCoz", { sifreliMetin: sifreliMetin, privateKey: privateKey }, function(data) {
                    if (data.success) {
                        $("#metin").val(data.metin);
                        $("#sonuc").show();
                    } else {
                        alert(data.message);
                    }
                });
            });
        });
    </script>
} 